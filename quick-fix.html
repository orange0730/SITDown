<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¨™ç±¤ç³»çµ±å¿«é€Ÿä¿®å¾©</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            background: #1a1a1a;
            color: white;
            line-height: 1.6;
        }
        .code-block {
            background: #2d2d2d;
            border: 1px solid #444;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            position: relative;
            overflow-x: auto;
        }
        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #4CAF50;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }
        .copy-btn:hover {
            background: #45a049;
        }
        h2 {
            color: #4CAF50;
            margin-top: 30px;
        }
        .warning {
            background: #5d2d2d;
            border: 1px solid #f44336;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .success {
            background: #2d5d2d;
            border: 1px solid #4CAF50;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>ğŸ”§ æ¨™ç±¤ç³»çµ±å¿«é€Ÿä¿®å¾©æŒ‡å—</h1>
    
    <div class="warning">
        âš ï¸ è«‹åœ¨ <strong>index.html</strong> é é¢ä¸ŠåŸ·è¡Œä»¥ä¸‹ä»£ç¢¼ï¼Œä¸æ˜¯åœ¨é€™å€‹é é¢ï¼
    </div>
    
    <h2>æ­¥é©Ÿ 1ï¼šé–‹å•Ÿ index.html</h2>
    <p>åœ¨ç€è¦½å™¨ä¸­é–‹å•Ÿæ‚¨çš„ index.html ä¸»é é¢</p>
    
    <h2>æ­¥é©Ÿ 2ï¼šé–‹å•Ÿé–‹ç™¼è€…å·¥å…·</h2>
    <p>æŒ‰ <strong>F12</strong> æˆ–å³éµé¸æ“‡ã€Œæª¢æŸ¥ã€ä¾†é–‹å•Ÿé–‹ç™¼è€…å·¥å…·ï¼Œç„¶å¾Œåˆ‡æ›åˆ° <strong>Consoleï¼ˆæ§åˆ¶å°ï¼‰</strong> æ¨™ç±¤</p>
    
    <h2>æ­¥é©Ÿ 3ï¼šåŸ·è¡Œä¿®å¾©ä»£ç¢¼</h2>
    <p>è¤‡è£½ä¸‹é¢çš„ä»£ç¢¼ä¸¦è²¼åˆ°æ§åˆ¶å°ä¸­åŸ·è¡Œï¼š</p>
    
    <div class="code-block">
        <button class="copy-btn" onclick="copyCode('fix1')">è¤‡è£½ä»£ç¢¼</button>
        <pre id="fix1">// ğŸ”§ ä¿®å¾©æ¨™ç±¤å¯è¦‹æ€§å’Œæ‹–æ›³åŠŸèƒ½
(function fixTags() {
    // 1. æª¢æŸ¥æ¨™ç±¤æ˜¯å¦å­˜åœ¨
    const tags = document.querySelectorAll('.draggable-tag');
    console.log(`æ‰¾åˆ° ${tags.length} å€‹æ¨™ç±¤`);
    
    if (tags.length === 0) {
        console.error('âŒ æ²’æœ‰æ‰¾åˆ°ä»»ä½•æ¨™ç±¤ï¼');
        return;
    }
    
    // 2. ä¿®å¾©æ¯å€‹æ¨™ç±¤çš„æ¨£å¼
    tags.forEach((tag, index) => {
        // ç¢ºä¿æ¨™ç±¤å¯è¦‹
        tag.style.opacity = '1';
        tag.style.display = 'block';
        tag.style.visibility = 'visible';
        tag.style.pointerEvents = 'all';
        tag.style.position = 'absolute';
        tag.style.zIndex = '1000';
        
        // è¨­ç½®éš¨æ©Ÿä½ç½®ï¼ˆå¦‚æœæ¨™ç±¤åœ¨è¢å¹•å¤–ï¼‰
        const rect = tag.getBoundingClientRect();
        if (rect.left < 0 || rect.top < 0 || 
            rect.right > window.innerWidth || 
            rect.bottom > window.innerHeight) {
            
            tag.style.left = Math.random() * (window.innerWidth - 150) + 'px';
            tag.style.top = Math.random() * (window.innerHeight - 50) + 'px';
        }
        
        // æ·»åŠ è¦–è¦ºæ•ˆæœä¾†ç¢ºèªæ¨™ç±¤ä½ç½®
        tag.style.border = '2px solid #4CAF50';
        tag.style.boxShadow = '0 0 10px #4CAF50';
        
        console.log(`âœ… ä¿®å¾©æ¨™ç±¤ ${index + 1}: ${tag.textContent}`);
    });
    
    // 3. ä¿®å¾©æ¨™ç±¤éŠæ¨‚å ´
    const playground = document.getElementById('tags-playground');
    if (playground) {
        playground.style.pointerEvents = 'all';
        playground.style.zIndex = '100';
        console.log('âœ… ä¿®å¾©æ¨™ç±¤éŠæ¨‚å ´');
    }
    
    // 4. é‡æ–°å•Ÿå‹•é£„å‹•å‹•ç•«
    if (typeof startFloatingAnimation === 'function') {
        tags.forEach(tag => {
            startFloatingAnimation(tag, playground);
        });
        console.log('âœ… é‡æ–°å•Ÿå‹•é£„å‹•å‹•ç•«');
    }
    
    console.log('ğŸ‰ æ¨™ç±¤ä¿®å¾©å®Œæˆï¼æ¨™ç±¤ç¾åœ¨æ‡‰è©²æœ‰ç¶ è‰²é‚Šæ¡†ä¸¦å¯ä»¥æ‹–æ›³');
    
    // 5 ç§’å¾Œç§»é™¤ç¶ è‰²é‚Šæ¡†
    setTimeout(() => {
        tags.forEach(tag => {
            tag.style.border = '';
            tag.style.boxShadow = '';
        });
        console.log('å·²ç§»é™¤æ¸¬è©¦é‚Šæ¡†');
    }, 5000);
})();</pre>
    </div>
    
    <h2>å‚™ç”¨æ–¹æ¡ˆï¼šå‰µå»ºæ¸¬è©¦æ¨™ç±¤</h2>
    <p>å¦‚æœä¸Šé¢çš„ä¿®å¾©æ²’æœ‰æ•ˆæœï¼Œè©¦è©¦å‰µå»ºä¸€å€‹æ¸¬è©¦æ¨™ç±¤ï¼š</p>
    
    <div class="code-block">
        <button class="copy-btn" onclick="copyCode('test1')">è¤‡è£½ä»£ç¢¼</button>
        <pre id="test1">// ğŸ§ª å‰µå»ºä¸€å€‹æ¸¬è©¦æ¨™ç±¤
(function createTestTag() {
    const testTag = document.createElement('div');
    testTag.className = 'draggable-tag';
    testTag.textContent = 'æ¸¬è©¦æ¨™ç±¤';
    testTag.style.cssText = `
        position: fixed !important;
        left: 50% !important;
        top: 50% !important;
        transform: translate(-50%, -50%) !important;
        z-index: 99999 !important;
        background: rgba(255, 0, 0, 0.8) !important;
        color: white !important;
        padding: 20px 30px !important;
        font-size: 20px !important;
        cursor: grab !important;
        border-radius: 30px !important;
        opacity: 1 !important;
        pointer-events: all !important;
    `;
    
    document.body.appendChild(testTag);
    
    // æ·»åŠ ç°¡å–®çš„æ‹–æ›³åŠŸèƒ½
    let isDragging = false;
    let startX, startY;
    
    testTag.addEventListener('mousedown', (e) => {
        isDragging = true;
        startX = e.clientX - testTag.offsetLeft;
        startY = e.clientY - testTag.offsetTop;
        testTag.style.cursor = 'grabbing';
    });
    
    document.addEventListener('mousemove', (e) => {
        if (!isDragging) return;
        testTag.style.left = (e.clientX - startX) + 'px';
        testTag.style.top = (e.clientY - startY) + 'px';
        testTag.style.transform = 'none';
    });
    
    document.addEventListener('mouseup', () => {
        isDragging = false;
        testTag.style.cursor = 'grab';
    });
    
    console.log('âœ… æ¸¬è©¦æ¨™ç±¤å·²å‰µå»ºï¼æ‡‰è©²åœ¨è¢å¹•ä¸­å¤®é¡¯ç¤ºä¸€å€‹ç´…è‰²æ¨™ç±¤');
})();</pre>
    </div>
    
    <h2>æª¢æŸ¥æ¨™ç±¤ç‹€æ…‹</h2>
    <p>åŸ·è¡Œé€™æ®µä»£ç¢¼ä¾†æŸ¥çœ‹æ‰€æœ‰æ¨™ç±¤çš„è©³ç´°è³‡è¨Šï¼š</p>
    
    <div class="code-block">
        <button class="copy-btn" onclick="copyCode('check1')">è¤‡è£½ä»£ç¢¼</button>
        <pre id="check1">// ğŸ“Š æª¢æŸ¥æ¨™ç±¤ç³»çµ±ç‹€æ…‹
(function checkTagSystem() {
    console.group('ğŸ·ï¸ æ¨™ç±¤ç³»çµ±è¨ºæ–·å ±å‘Š');
    
    // æª¢æŸ¥æ¨™ç±¤
    const tags = document.querySelectorAll('.draggable-tag');
    console.log(`æ¨™ç±¤æ•¸é‡: ${tags.length}`);
    
    if (tags.length > 0) {
        console.group('æ¨™ç±¤è©³æƒ…:');
        tags.forEach((tag, i) => {
            const rect = tag.getBoundingClientRect();
            const style = window.getComputedStyle(tag);
            console.log(`${i+1}. ${tag.textContent}:`, {
                ä½ç½®: `(${Math.round(rect.left)}, ${Math.round(rect.top)})`,
                å¤§å°: `${Math.round(rect.width)} x ${Math.round(rect.height)}`,
                å¯è¦‹æ€§: style.opacity,
                é¡¯ç¤º: style.display,
                'z-index': style.zIndex,
                'pointer-events': style.pointerEvents
            });
        });
        console.groupEnd();
    }
    
    // æª¢æŸ¥å®¹å™¨
    const playground = document.getElementById('tags-playground');
    const basket = document.getElementById('selection-basket');
    
    console.log('æ¨™ç±¤éŠæ¨‚å ´:', playground ? 'âœ… å­˜åœ¨' : 'âŒ ä¸å­˜åœ¨');
    console.log('é¸æ“‡ç±ƒå­:', basket ? 'âœ… å­˜åœ¨' : 'âŒ ä¸å­˜åœ¨');
    
    // æª¢æŸ¥å…¨åŸŸå‡½æ•¸
    console.log('é£„å‹•å‹•ç•«å‡½æ•¸:', typeof startFloatingAnimation === 'function' ? 'âœ… å¯ç”¨' : 'âŒ ä¸å¯ç”¨');
    console.log('å½±ç‰‡åº«:', typeof videoLibrary !== 'undefined' ? `âœ… ${videoLibrary.length} å€‹å½±ç‰‡` : 'âŒ æœªè¼‰å…¥');
    
    console.groupEnd();
})();</pre>
    </div>
    
    <div class="success">
        ğŸ’¡ <strong>æç¤ºï¼š</strong>åŸ·è¡Œä»£ç¢¼å¾Œï¼Œæ¨™ç±¤æ‡‰è©²æœƒé¡¯ç¤ºç¶ è‰²é‚Šæ¡†ä¸¦å¯ä»¥æ‹–æ›³ã€‚å¦‚æœé‚„æ˜¯çœ‹ä¸åˆ°ï¼Œå¯èƒ½éœ€è¦æª¢æŸ¥ç€è¦½å™¨çš„æ§åˆ¶å°æ˜¯å¦æœ‰éŒ¯èª¤è¨Šæ¯ã€‚
    </div>
    
    <script>
        function copyCode(id) {
            const code = document.getElementById(id).textContent;
            navigator.clipboard.writeText(code).then(() => {
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = 'âœ“ å·²è¤‡è£½';
                btn.style.background = '#2d5d2d';
                
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '#4CAF50';
                }, 2000);
            });
        }
    </script>
</body>
</html> 